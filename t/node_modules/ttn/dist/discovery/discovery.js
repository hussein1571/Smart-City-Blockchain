"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.services = exports.Discovery = undefined;

var _regenerator = require("babel-runtime/regenerator");

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = require("babel-runtime/helpers/asyncToGenerator");

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _toConsumableArray2 = require("babel-runtime/helpers/toConsumableArray");

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _classCallCheck2 = require("babel-runtime/helpers/classCallCheck");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require("babel-runtime/helpers/createClass");

var _createClass3 = _interopRequireDefault(_createClass2);

var _sourceMapSupport2 = require("source-map-support");

var _grpc = require("grpc");

var _grpc2 = _interopRequireDefault(_grpc);

var _discovery_pb = require("ttnapi/discovery/discovery_pb");

var _discovery_pb2 = _interopRequireDefault(_discovery_pb);

var _discovery_grpc_pb = require("ttnapi/discovery/discovery_grpc_pb");

var _discovery_grpc_pb2 = _interopRequireDefault(_discovery_grpc_pb);

var _utils = require("../utils");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(0, _sourceMapSupport2.install)(); // Copyright Â© 2017 The Things Network
// Use of this source code is governed by the MIT license that can be found in the LICENSE file.

// Copyright Â© 2017 The Things Network
// Use of this source code is governed by the MIT license that can be found in the LICENSE file.

// Necessary to make gRPC work
process.env.GRPC_SSL_CIPHER_SUITES = _utils.MODERN_CIPHER_SUITES;

/**
 * @typedef DiscoveryOptions
 * DiscoveryOptions are options to the discovery client
 *
 * @prop [address] - The address of the discovery server. Defaults to `discovery.thethingsnetwork.org:1900`.
 * @prop [insecure] - Wether or not to connect securely to the discovery server. Defaults to `false`.
 * @prop [certificate] - An optional certificate to accept from the discovery server.  Use this if the discovery server uses a self-signed certificate.
 */


/**
 * Service is an enum of the possible services types to get from the discovery
 * server.
 */


/**
 * Announcement is an announcement on the discovery server.
 */

/** Discovery is a client for The Things Network discovery API */
var Discovery = exports.Discovery = function () {

  /**
   * Create a new Discovery client.
   */
  function Discovery() {
    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    (0, _classCallCheck3.default)(this, Discovery);
    var _opts$address = opts.address,
        address = _opts$address === undefined ? "discovery.thethings.network:1900" : _opts$address,
        _opts$insecure = opts.insecure,
        insecure = _opts$insecure === undefined ? false : _opts$insecure,
        certificate = opts.certificate;


    var credentials = insecure ? _grpc2.default.credentials.createInsecure() : _grpc2.default.credentials.createSsl(certificate && new Buffer(certificate));

    this.client = new _discovery_grpc_pb2.default.DiscoveryClient(address, credentials);
  }

  /** @private */


  /** @private */


  (0, _createClass3.default)(Discovery, [{
    key: "_wrap",
    value: function _wrap(fn) {
      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }

      return _utils.wrap.apply(undefined, [this.client, fn].concat((0, _toConsumableArray3.default)(args))).then(function (res) {
        return res.toObject();
      });
    }

    /**
     * `getAll` returns announcements for all services known to
     * the discovery server that match the service name.
     *
     * @param serviceName - The name of the services to look for, eg. `"handler"`
     */

  }, {
    key: "getAll",
    value: function () {
      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(serviceName) {
        var req, res;
        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                req = new _discovery_pb2.default.GetServiceRequest();

                req.setServiceName(serviceName);
                _context.next = 4;
                return this._wrap(this.client.getAll, req);

              case 4:
                res = _context.sent;
                return _context.abrupt("return", res.servicesList);

              case 6:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function getAll(_x2) {
        return _ref.apply(this, arguments);
      }

      return getAll;
    }()

    /**
     * `get` returns the announcement for the service with the
     * specified service name and id.
     *
     * @param serviceName - The name of the services to look for, eg. `"handler"`
     * @param id - The id of the service to look for, eg. `"ttn-handler-eu"`
     */

  }, {
    key: "get",
    value: function get(serviceName, id) {
      var req = new _discovery_pb2.default.GetRequest();
      req.setServiceName(serviceName);
      req.setId(id);
      return this._wrap(this.client.get, req);
    }

    /**
     * `getByAppID` gets a handler announcement by application ID.
     * It looks up the handler the application is registered to.
     */

  }, {
    key: "getByAppID",
    value: function getByAppID(appID) {
      var req = new _discovery_pb2.default.GetByAppIDRequest();
      req.setAppId(appID);
      return this._wrap(this.client.getByAppID, req);
    }
  }]);
  return Discovery;
}();

/**
 * services is a map with the known service names for the discovery server.
 */


var services = exports.services = {
  /** Handler is a Handler service */
  Handler: "handler",

  /** Router is a Router service */
  Router: "router",

  /** Broker is a Broker service */
  Broker: "broker"
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kaXNjb3ZlcnkvZGlzY292ZXJ5LmpzIl0sIm5hbWVzIjpbInByb2Nlc3MiLCJlbnYiLCJHUlBDX1NTTF9DSVBIRVJfU1VJVEVTIiwiTU9ERVJOX0NJUEhFUl9TVUlURVMiLCJEaXNjb3ZlcnkiLCJvcHRzIiwiYWRkcmVzcyIsImluc2VjdXJlIiwiY2VydGlmaWNhdGUiLCJjcmVkZW50aWFscyIsImdycGMiLCJjcmVhdGVJbnNlY3VyZSIsImNyZWF0ZVNzbCIsIkJ1ZmZlciIsImNsaWVudCIsImRpc2NvdmVyeSIsIkRpc2NvdmVyeUNsaWVudCIsImZuIiwiYXJncyIsIndyYXAiLCJ0aGVuIiwicmVzIiwidG9PYmplY3QiLCJzZXJ2aWNlTmFtZSIsInJlcSIsInByb3RvIiwiR2V0U2VydmljZVJlcXVlc3QiLCJzZXRTZXJ2aWNlTmFtZSIsIl93cmFwIiwiZ2V0QWxsIiwic2VydmljZXNMaXN0IiwiaWQiLCJHZXRSZXF1ZXN0Iiwic2V0SWQiLCJnZXQiLCJhcHBJRCIsIkdldEJ5QXBwSURSZXF1ZXN0Iiwic2V0QXBwSWQiLCJnZXRCeUFwcElEIiwic2VydmljZXMiLCJIYW5kbGVyIiwiUm91dGVyIiwiQnJva2VyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU9BOzs7O0FBRUE7Ozs7QUFDQTs7OztBQUVBOzs7O21DQVpBO0FBQ0E7O0FBR0E7QUFDQTs7QUFTQTtBQUNBQSxRQUFRQyxHQUFSLENBQVlDLHNCQUFaLEdBQXFDQywyQkFBckM7O0FBRUE7Ozs7Ozs7Ozs7QUFjQTs7Ozs7O0FBTUE7Ozs7QUFxQkE7SUFDYUMsUyxXQUFBQSxTOztBQUtYOzs7QUFHQSx1QkFBa0Q7QUFBQSxRQUFyQ0MsSUFBcUMsdUVBQVgsRUFBVztBQUFBO0FBQUEsd0JBSzVDQSxJQUw0QyxDQUU5Q0MsT0FGOEM7QUFBQSxRQUU5Q0EsT0FGOEMsaUNBRXBDLGtDQUZvQztBQUFBLHlCQUs1Q0QsSUFMNEMsQ0FHOUNFLFFBSDhDO0FBQUEsUUFHOUNBLFFBSDhDLGtDQUduQyxLQUhtQztBQUFBLFFBSTlDQyxXQUo4QyxHQUs1Q0gsSUFMNEMsQ0FJOUNHLFdBSjhDOzs7QUFPaEQsUUFBTUMsY0FDSkYsV0FDSUcsZUFBS0QsV0FBTCxDQUFpQkUsY0FBakIsRUFESixHQUVJRCxlQUFLRCxXQUFMLENBQWlCRyxTQUFqQixDQUEyQkosZUFBZSxJQUFJSyxNQUFKLENBQVdMLFdBQVgsQ0FBMUMsQ0FITjs7QUFLQSxTQUFLTSxNQUFMLEdBQWMsSUFBSUMsNEJBQVVDLGVBQWQsQ0FBOEJWLE9BQTlCLEVBQXVDRyxXQUF2QyxDQUFkO0FBQ0Q7O0FBRUQ7OztBQXJCQTs7Ozs7MEJBc0JPUSxFLEVBQTZDO0FBQUEsd0NBQTNCQyxJQUEyQjtBQUEzQkEsWUFBMkI7QUFBQTs7QUFDbEQsYUFBT0MsOEJBQUssS0FBS0wsTUFBVixFQUFrQkcsRUFBbEIsMENBQXlCQyxJQUF6QixJQUErQkUsSUFBL0IsQ0FBb0M7QUFBQSxlQUFPQyxJQUFJQyxRQUFKLEVBQVA7QUFBQSxPQUFwQyxDQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7MkdBTWNDLFc7Ozs7OztBQUNOQyxtQixHQUFNLElBQUlDLHVCQUFNQyxpQkFBVixFOztBQUNaRixvQkFBSUcsY0FBSixDQUFtQkosV0FBbkI7O3VCQUNrQixLQUFLSyxLQUFMLENBQVcsS0FBS2QsTUFBTCxDQUFZZSxNQUF2QixFQUErQkwsR0FBL0IsQzs7O0FBQVpILG1CO2lEQUNDQSxJQUFJUyxZOzs7Ozs7Ozs7Ozs7Ozs7OztBQUdiOzs7Ozs7Ozs7O3dCQU9LUCxXLEVBQXVCUSxFLEVBQXFDO0FBQy9ELFVBQU1QLE1BQU0sSUFBSUMsdUJBQU1PLFVBQVYsRUFBWjtBQUNBUixVQUFJRyxjQUFKLENBQW1CSixXQUFuQjtBQUNBQyxVQUFJUyxLQUFKLENBQVVGLEVBQVY7QUFDQSxhQUFPLEtBQUtILEtBQUwsQ0FBVyxLQUFLZCxNQUFMLENBQVlvQixHQUF2QixFQUE0QlYsR0FBNUIsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7OytCQUlZVyxLLEVBQXdDO0FBQ2xELFVBQU1YLE1BQU0sSUFBSUMsdUJBQU1XLGlCQUFWLEVBQVo7QUFDQVosVUFBSWEsUUFBSixDQUFhRixLQUFiO0FBQ0EsYUFBTyxLQUFLUCxLQUFMLENBQVcsS0FBS2QsTUFBTCxDQUFZd0IsVUFBdkIsRUFBbUNkLEdBQW5DLENBQVA7QUFDRDs7Ozs7QUFHSDs7Ozs7QUFHTyxJQUFNZSw4QkFBb0M7QUFDL0M7QUFDQUMsV0FBUyxTQUZzQzs7QUFJL0M7QUFDQUMsVUFBUSxRQUx1Qzs7QUFPL0M7QUFDQUMsVUFBUTtBQVJ1QyxDQUExQyIsImZpbGUiOiJkaXNjb3ZlcnkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgwqkgMjAxNyBUaGUgVGhpbmdzIE5ldHdvcmtcbi8vIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBNSVQgbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlLlxuXG4vLyBAZmxvd1xuLy8gQ29weXJpZ2h0IMKpIDIwMTcgVGhlIFRoaW5ncyBOZXR3b3JrXG4vLyBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTUlUIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZS5cblxuaW1wb3J0IGdycGMgZnJvbSBcImdycGNcIlxuXG5pbXBvcnQgcHJvdG8gZnJvbSBcInR0bmFwaS9kaXNjb3ZlcnkvZGlzY292ZXJ5X3BiXCJcbmltcG9ydCBkaXNjb3ZlcnkgZnJvbSBcInR0bmFwaS9kaXNjb3ZlcnkvZGlzY292ZXJ5X2dycGNfcGJcIlxuXG5pbXBvcnQgeyB3cmFwLCBNT0RFUk5fQ0lQSEVSX1NVSVRFUyB9IGZyb20gXCIuLi91dGlsc1wiXG5cbi8vIE5lY2Vzc2FyeSB0byBtYWtlIGdSUEMgd29ya1xucHJvY2Vzcy5lbnYuR1JQQ19TU0xfQ0lQSEVSX1NVSVRFUyA9IE1PREVSTl9DSVBIRVJfU1VJVEVTXG5cbi8qKlxuICogQHR5cGVkZWYgRGlzY292ZXJ5T3B0aW9uc1xuICogRGlzY292ZXJ5T3B0aW9ucyBhcmUgb3B0aW9ucyB0byB0aGUgZGlzY292ZXJ5IGNsaWVudFxuICpcbiAqIEBwcm9wIFthZGRyZXNzXSAtIFRoZSBhZGRyZXNzIG9mIHRoZSBkaXNjb3Zlcnkgc2VydmVyLiBEZWZhdWx0cyB0byBgZGlzY292ZXJ5LnRoZXRoaW5nc25ldHdvcmsub3JnOjE5MDBgLlxuICogQHByb3AgW2luc2VjdXJlXSAtIFdldGhlciBvciBub3QgdG8gY29ubmVjdCBzZWN1cmVseSB0byB0aGUgZGlzY292ZXJ5IHNlcnZlci4gRGVmYXVsdHMgdG8gYGZhbHNlYC5cbiAqIEBwcm9wIFtjZXJ0aWZpY2F0ZV0gLSBBbiBvcHRpb25hbCBjZXJ0aWZpY2F0ZSB0byBhY2NlcHQgZnJvbSB0aGUgZGlzY292ZXJ5IHNlcnZlci4gIFVzZSB0aGlzIGlmIHRoZSBkaXNjb3Zlcnkgc2VydmVyIHVzZXMgYSBzZWxmLXNpZ25lZCBjZXJ0aWZpY2F0ZS5cbiAqL1xuZXhwb3J0IHR5cGUgRGlzY292ZXJ5T3B0aW9ucyA9IHtcbiAgYWRkcmVzcz8gOiBzdHJpbmcsXG4gIGluc2VjdXJlPyA6IGJvb2xlYW4sXG4gIGNlcnRpZmljYXRlPyA6IEJ1ZmZlciB8IHN0cmluZyxcbn1cblxuLyoqXG4gKiBTZXJ2aWNlIGlzIGFuIGVudW0gb2YgdGhlIHBvc3NpYmxlIHNlcnZpY2VzIHR5cGVzIHRvIGdldCBmcm9tIHRoZSBkaXNjb3ZlcnlcbiAqIHNlcnZlci5cbiAqL1xuZXhwb3J0IHR5cGUgU2VydmljZSA9IFwicm91dGVyXCIgfCBcImJyb2tlclwiIHwgXCJoYW5kbGVyXCJcblxuLyoqXG4gKiBBbm5vdW5jZW1lbnQgaXMgYW4gYW5ub3VuY2VtZW50IG9uIHRoZSBkaXNjb3Zlcnkgc2VydmVyLlxuICovXG5leHBvcnQgdHlwZSBBbm5vdW5jZW1lbnQgPSB7XG4gIGlkIDogc3RyaW5nLFxuICBzZXJ2aWNlTmFtZTogU2VydmljZSxcbiAgc2VydmljZVZlcnNpb24gOiBzdHJpbmcsXG4gIGRlc2NyaXB0aW9uIDogc3RyaW5nLFxuICBwYl9wdWJsaWMgOiBib29sLFxuXG4gIHVybCA6IHN0cmluZyxcbiAgbmV0QWRkcmVzcyA6IHN0cmluZyxcbiAgbXF0dEFkZHJlc3MgOiBzdHJpbmcsXG4gIGFwaUFkZHJlc3MgOiBzdHJpbmcsXG5cbiAgcHVibGljS2V5PyA6IHN0cmluZyxcbiAgY2VydGlmaWNhdGU/IDogc3RyaW5nLFxuICBtZXRhZGF0YUxpc3Q/IDogQXJyYXk8YW55Pixcbn1cblxuXG4vKiogRGlzY292ZXJ5IGlzIGEgY2xpZW50IGZvciBUaGUgVGhpbmdzIE5ldHdvcmsgZGlzY292ZXJ5IEFQSSAqL1xuZXhwb3J0IGNsYXNzIERpc2NvdmVyeSB7XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGNsaWVudCA6IGFueVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgRGlzY292ZXJ5IGNsaWVudC5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChvcHRzIDogRGlzY292ZXJ5T3B0aW9ucyA9IHt9KSA6IHZvaWQge1xuICAgIGNvbnN0IHtcbiAgICAgIGFkZHJlc3MgPSBcImRpc2NvdmVyeS50aGV0aGluZ3MubmV0d29yazoxOTAwXCIsXG4gICAgICBpbnNlY3VyZSA9IGZhbHNlLFxuICAgICAgY2VydGlmaWNhdGUsXG4gICAgfSA9IG9wdHNcblxuICAgIGNvbnN0IGNyZWRlbnRpYWxzID1cbiAgICAgIGluc2VjdXJlXG4gICAgICAgID8gZ3JwYy5jcmVkZW50aWFscy5jcmVhdGVJbnNlY3VyZSgpXG4gICAgICAgIDogZ3JwYy5jcmVkZW50aWFscy5jcmVhdGVTc2woY2VydGlmaWNhdGUgJiYgbmV3IEJ1ZmZlcihjZXJ0aWZpY2F0ZSkpXG5cbiAgICB0aGlzLmNsaWVudCA9IG5ldyBkaXNjb3ZlcnkuRGlzY292ZXJ5Q2xpZW50KGFkZHJlc3MsIGNyZWRlbnRpYWxzKVxuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIF93cmFwIChmbiA6IEZ1bmN0aW9uLCAuLi5hcmdzIDogYW55W10pIDogUHJvbWlzZTwqPiB7XG4gICAgcmV0dXJuIHdyYXAodGhpcy5jbGllbnQsIGZuLCAuLi5hcmdzKS50aGVuKHJlcyA9PiByZXMudG9PYmplY3QoKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBgZ2V0QWxsYCByZXR1cm5zIGFubm91bmNlbWVudHMgZm9yIGFsbCBzZXJ2aWNlcyBrbm93biB0b1xuICAgKiB0aGUgZGlzY292ZXJ5IHNlcnZlciB0aGF0IG1hdGNoIHRoZSBzZXJ2aWNlIG5hbWUuXG4gICAqXG4gICAqIEBwYXJhbSBzZXJ2aWNlTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBzZXJ2aWNlcyB0byBsb29rIGZvciwgZWcuIGBcImhhbmRsZXJcImBcbiAgICovXG4gIGFzeW5jIGdldEFsbCAoc2VydmljZU5hbWUgOiBTZXJ2aWNlKSA6IFByb21pc2U8QW5ub3VuY2VtZW50W10+IHtcbiAgICBjb25zdCByZXEgPSBuZXcgcHJvdG8uR2V0U2VydmljZVJlcXVlc3QoKVxuICAgIHJlcS5zZXRTZXJ2aWNlTmFtZShzZXJ2aWNlTmFtZSlcbiAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLl93cmFwKHRoaXMuY2xpZW50LmdldEFsbCwgcmVxKVxuICAgIHJldHVybiByZXMuc2VydmljZXNMaXN0XG4gIH1cblxuICAvKipcbiAgICogYGdldGAgcmV0dXJucyB0aGUgYW5ub3VuY2VtZW50IGZvciB0aGUgc2VydmljZSB3aXRoIHRoZVxuICAgKiBzcGVjaWZpZWQgc2VydmljZSBuYW1lIGFuZCBpZC5cbiAgICpcbiAgICogQHBhcmFtIHNlcnZpY2VOYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHNlcnZpY2VzIHRvIGxvb2sgZm9yLCBlZy4gYFwiaGFuZGxlclwiYFxuICAgKiBAcGFyYW0gaWQgLSBUaGUgaWQgb2YgdGhlIHNlcnZpY2UgdG8gbG9vayBmb3IsIGVnLiBgXCJ0dG4taGFuZGxlci1ldVwiYFxuICAgKi9cbiAgZ2V0IChzZXJ2aWNlTmFtZSA6IFNlcnZpY2UsIGlkIDogc3RyaW5nKSA6IFByb21pc2U8QW5ub3VuY2VtZW50PiB7XG4gICAgY29uc3QgcmVxID0gbmV3IHByb3RvLkdldFJlcXVlc3QoKVxuICAgIHJlcS5zZXRTZXJ2aWNlTmFtZShzZXJ2aWNlTmFtZSlcbiAgICByZXEuc2V0SWQoaWQpXG4gICAgcmV0dXJuIHRoaXMuX3dyYXAodGhpcy5jbGllbnQuZ2V0LCByZXEpXG4gIH1cblxuICAvKipcbiAgICogYGdldEJ5QXBwSURgIGdldHMgYSBoYW5kbGVyIGFubm91bmNlbWVudCBieSBhcHBsaWNhdGlvbiBJRC5cbiAgICogSXQgbG9va3MgdXAgdGhlIGhhbmRsZXIgdGhlIGFwcGxpY2F0aW9uIGlzIHJlZ2lzdGVyZWQgdG8uXG4gICAqL1xuICBnZXRCeUFwcElEIChhcHBJRCA6IHN0cmluZykgOiBQcm9taXNlPEFubm91bmNlbWVudD4ge1xuICAgIGNvbnN0IHJlcSA9IG5ldyBwcm90by5HZXRCeUFwcElEUmVxdWVzdCgpXG4gICAgcmVxLnNldEFwcElkKGFwcElEKVxuICAgIHJldHVybiB0aGlzLl93cmFwKHRoaXMuY2xpZW50LmdldEJ5QXBwSUQsIHJlcSlcbiAgfVxufVxuXG4vKipcbiAqIHNlcnZpY2VzIGlzIGEgbWFwIHdpdGggdGhlIGtub3duIHNlcnZpY2UgbmFtZXMgZm9yIHRoZSBkaXNjb3Zlcnkgc2VydmVyLlxuICovXG5leHBvcnQgY29uc3Qgc2VydmljZXMgOiB7IFtzdHJpbmddIDogU2VydmljZSB9ID0ge1xuICAvKiogSGFuZGxlciBpcyBhIEhhbmRsZXIgc2VydmljZSAqL1xuICBIYW5kbGVyOiBcImhhbmRsZXJcIixcblxuICAvKiogUm91dGVyIGlzIGEgUm91dGVyIHNlcnZpY2UgKi9cbiAgUm91dGVyOiBcInJvdXRlclwiLFxuXG4gIC8qKiBCcm9rZXIgaXMgYSBCcm9rZXIgc2VydmljZSAqL1xuICBCcm9rZXI6IFwiYnJva2VyXCIsXG59XG5cbiJdfQ==