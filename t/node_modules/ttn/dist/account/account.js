"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AccountClient = undefined;

var _regenerator = require("babel-runtime/regenerator");

var _regenerator2 = _interopRequireDefault(_regenerator);

var _stringify = require("babel-runtime/core-js/json/stringify");

var _stringify2 = _interopRequireDefault(_stringify);

var _asyncToGenerator2 = require("babel-runtime/helpers/asyncToGenerator");

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _classCallCheck2 = require("babel-runtime/helpers/classCallCheck");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require("babel-runtime/helpers/createClass");

var _createClass3 = _interopRequireDefault(_createClass2);

var _sourceMapSupport2 = require("source-map-support");

var _nodeFetch = require("node-fetch");

var _nodeFetch2 = _interopRequireDefault(_nodeFetch);

var _utils = require("../utils");

var _isToken = require("../utils/is-token");

var _isToken2 = _interopRequireDefault(_isToken);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(0, _sourceMapSupport2.install)(); // Copyright Â© 2017 The Things Network
// Use of this source code is governed by the MIT license that can be found in the LICENSE file.

// Necessary to make gRPC work
process.env.GRPC_SSL_CIPHER_SUITES = _utils.MODERN_CIPHER_SUITES;

/**
 * `Account` is a client for The Things Network account server API.
 * It can be used to manage applications and their EUIs, as well as gateways.
 * Either a Bearer Token or an Application Access Key can be used for
 * authentication. The latter method allows to use the `getApplication()`
 * function only.
 *
 * Example:
 * ```
 * const account = new Account("accesKeyOrToken", "https://customserveradress.org")
 * ```
 */

var AccountClient = exports.AccountClient = function () {
  /** @private */
  function AccountClient(accessKeyOrToken) {
    var serverAddress = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "https://account.thethingsnetwork.org";
    (0, _classCallCheck3.default)(this, AccountClient);

    this.authHeader = (0, _isToken2.default)(accessKeyOrToken) ? "Bearer " + accessKeyOrToken : "Key " + accessKeyOrToken;

    this.serverAddress = serverAddress;
  }

  /** @private */


  /** @private */


  (0, _createClass3.default)(AccountClient, [{
    key: "makeRequest",
    value: function () {
      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(url) {
        var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "GET";
        var body = arguments[2];
        var res;
        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return (0, _nodeFetch2.default)(this.serverAddress + "/" + url, {
                  method: method,
                  body: (0, _stringify2.default)(body),
                  headers: {
                    authorization: this.authHeader,
                    "content-type": "application/json"
                  }
                });

              case 2:
                res = _context.sent;

                if (!(res.status >= 400)) {
                  _context.next = 5;
                  break;
                }

                throw new Error(res.status + " " + res.statusText);

              case 5:
                return _context.abrupt("return", res.json());

              case 6:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function makeRequest(_x2) {
        return _ref.apply(this, arguments);
      }

      return makeRequest;
    }()

    /**
     * Gets metadata about all applications that are accessible with
     * the given accessToken
     */

  }, {
    key: "getAllApplications",
    value: function getAllApplications() {
      return this.makeRequest("applications");
    }

    /**
     * Gets the information that is stored about a given application.
     * This includes the EUIs, name access keys, collaborators.
     * The properties that can be retrieved depend on the rights of
     * the used authorization mechanism.
     */

  }, {
    key: "getApplication",
    value: function getApplication(appID) {
      return this.makeRequest("applications/" + appID);
    }

    /**
     * Creates a new application on the account server.
     */

  }, {
    key: "createApplication",
    value: function createApplication(app) {
      return this.makeRequest("applications", "POST", app);
    }

    /**
     * Removes an application from the account server.
     */

  }, {
    key: "deleteApplication",
    value: function deleteApplication(appID) {
      return this.makeRequest("applications/" + appID, "DELETE");
    }

    /**
     * Adds a collaborator with a set of access rights to the given application.
     */

  }, {
    key: "addCollaborator",
    value: function addCollaborator(appID, collaborator, rights) {
      return this.makeRequest("applications/" + appID + "/collaborators/" + collaborator, "PUT", rights);
    }

    /**
     * Removes a collaborator by her username from an application
     */

  }, {
    key: "deleteCollaborator",
    value: function deleteCollaborator(appID, collaborator) {
      return this.makeRequest("applications/" + appID + "/collaborators/" + collaborator, "DELETE");
    }

    /**
     * Adds an EUI to the given application. Must be hexadecimal with a length of 16.
     */

  }, {
    key: "addEUI",
    value: function addEUI(appID, eui) {
      return this.makeRequest("applications/" + appID + "/euis/" + eui, "PUT");
    }

    /**
     * Removes an EUI from the given application.
     */

  }, {
    key: "deleteEUI",
    value: function deleteEUI(appID, eui) {
      return this.makeRequest("applications/" + appID + "/euis/" + eui, "DELETE");
    }
  }]);
  return AccountClient;
}();

/**
 * AppAccessRights
 */


/**
 * The minimal payload for to the POST /applications route
 * of the account server
 */


/**
 * AccountApplication contains the metadata of an application
 * returned by the account server. Presence of optional fields
 * depends on the [access rights](#appaccessrights) of the used accessKey / -token.
 */
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9hY2NvdW50L2FjY291bnQuanMiXSwibmFtZXMiOlsicHJvY2VzcyIsImVudiIsIkdSUENfU1NMX0NJUEhFUl9TVUlURVMiLCJNT0RFUk5fQ0lQSEVSX1NVSVRFUyIsIkFjY291bnRDbGllbnQiLCJhY2Nlc3NLZXlPclRva2VuIiwic2VydmVyQWRkcmVzcyIsImF1dGhIZWFkZXIiLCJ1cmwiLCJtZXRob2QiLCJib2R5IiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJyZXMiLCJzdGF0dXMiLCJFcnJvciIsInN0YXR1c1RleHQiLCJqc29uIiwibWFrZVJlcXVlc3QiLCJhcHBJRCIsImFwcCIsImNvbGxhYm9yYXRvciIsInJpZ2h0cyIsImV1aSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLQTs7OztBQUVBOztBQUNBOzs7Ozs7bUNBUkE7QUFDQTs7QUFTQTtBQUNBQSxRQUFRQyxHQUFSLENBQVlDLHNCQUFaLEdBQXFDQywyQkFBckM7O0FBRUE7Ozs7Ozs7Ozs7Ozs7SUFZYUMsYSxXQUFBQSxhO0FBQ1g7QUFNQSx5QkFBYUMsZ0JBQWIsRUFBZ0g7QUFBQSxRQUF4RUMsYUFBd0UsdUVBQS9DLHNDQUErQztBQUFBOztBQUM5RyxTQUFLQyxVQUFMLEdBQWtCLHVCQUFRRixnQkFBUixnQkFDSkEsZ0JBREksWUFFUEEsZ0JBRlg7O0FBSUEsU0FBS0MsYUFBTCxHQUFxQkEsYUFBckI7QUFDRDs7QUFFRDs7O0FBWEE7Ozs7OzsyR0FZbUJFLEc7WUFBY0MsTSx1RUFBa0IsSztZQUFPQyxJOzs7Ozs7O3VCQUN0Qyx5QkFBUyxLQUFLSixhQUFkLFNBQStCRSxHQUEvQixFQUFzQztBQUN0REMsZ0NBRHNEO0FBRXREQyx3QkFBTSx5QkFBZUEsSUFBZixDQUZnRDtBQUd0REMsMkJBQVM7QUFDUEMsbUNBQWUsS0FBS0wsVUFEYjtBQUVQLG9DQUFnQjtBQUZUO0FBSDZDLGlCQUF0QyxDOzs7QUFBWk0sbUI7O3NCQVNGQSxJQUFJQyxNQUFKLElBQWMsRzs7Ozs7c0JBQ1YsSUFBSUMsS0FBSixDQUFhRixJQUFJQyxNQUFqQixTQUEyQkQsSUFBSUcsVUFBL0IsQzs7O2lEQUdESCxJQUFJSSxJQUFKLEU7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR1Q7Ozs7Ozs7eUNBSTJEO0FBQ3pELGFBQU8sS0FBS0MsV0FBTCxDQUFpQixjQUFqQixDQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7OzttQ0FNZ0JDLEssRUFBOEM7QUFDNUQsYUFBTyxLQUFLRCxXQUFMLG1CQUFpQ0MsS0FBakMsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7c0NBR21CQyxHLEVBQTRDO0FBQzdELGFBQU8sS0FBS0YsV0FBTCxDQUFpQixjQUFqQixFQUFpQyxNQUFqQyxFQUF5Q0UsR0FBekMsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7c0NBR21CRCxLLEVBQStCO0FBQ2hELGFBQU8sS0FBS0QsV0FBTCxtQkFBaUNDLEtBQWpDLEVBQTBDLFFBQTFDLENBQVA7QUFDRDs7QUFFRDs7Ozs7O29DQUdpQkEsSyxFQUFnQkUsWSxFQUF1QkMsTSxFQUFnRDtBQUN0RyxhQUFPLEtBQUtKLFdBQUwsbUJBQWlDQyxLQUFqQyx1QkFBd0RFLFlBQXhELEVBQXdFLEtBQXhFLEVBQStFQyxNQUEvRSxDQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozt1Q0FHb0JILEssRUFBZ0JFLFksRUFBc0M7QUFDeEUsYUFBTyxLQUFLSCxXQUFMLG1CQUFpQ0MsS0FBakMsdUJBQXdERSxZQUF4RCxFQUF3RSxRQUF4RSxDQUFQO0FBQ0Q7O0FBRUQ7Ozs7OzsyQkFHUUYsSyxFQUFnQkksRyxFQUE2QjtBQUNuRCxhQUFPLEtBQUtMLFdBQUwsbUJBQWlDQyxLQUFqQyxjQUErQ0ksR0FBL0MsRUFBc0QsS0FBdEQsQ0FBUDtBQUNEOztBQUVEOzs7Ozs7OEJBR1dKLEssRUFBZ0JJLEcsRUFBNkI7QUFDdEQsYUFBTyxLQUFLTCxXQUFMLG1CQUFpQ0MsS0FBakMsY0FBK0NJLEdBQS9DLEVBQXNELFFBQXRELENBQVA7QUFDRDs7Ozs7QUFHSDs7Ozs7QUFXQTs7Ozs7O0FBU0EiLCJmaWxlIjoiYWNjb3VudC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCDCqSAyMDE3IFRoZSBUaGluZ3MgTmV0d29ya1xuLy8gVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIE1JVCBsaWNlbnNlIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUuXG5cbi8vIEBmbG93XG5cbmltcG9ydCBmZXRjaCBmcm9tIFwibm9kZS1mZXRjaFwiXG5cbmltcG9ydCB7IE1PREVSTl9DSVBIRVJfU1VJVEVTIH0gZnJvbSBcIi4uL3V0aWxzXCJcbmltcG9ydCBpc1Rva2VuIGZyb20gXCIuLi91dGlscy9pcy10b2tlblwiXG5cbi8vIE5lY2Vzc2FyeSB0byBtYWtlIGdSUEMgd29ya1xucHJvY2Vzcy5lbnYuR1JQQ19TU0xfQ0lQSEVSX1NVSVRFUyA9IE1PREVSTl9DSVBIRVJfU1VJVEVTXG5cbi8qKlxuICogYEFjY291bnRgIGlzIGEgY2xpZW50IGZvciBUaGUgVGhpbmdzIE5ldHdvcmsgYWNjb3VudCBzZXJ2ZXIgQVBJLlxuICogSXQgY2FuIGJlIHVzZWQgdG8gbWFuYWdlIGFwcGxpY2F0aW9ucyBhbmQgdGhlaXIgRVVJcywgYXMgd2VsbCBhcyBnYXRld2F5cy5cbiAqIEVpdGhlciBhIEJlYXJlciBUb2tlbiBvciBhbiBBcHBsaWNhdGlvbiBBY2Nlc3MgS2V5IGNhbiBiZSB1c2VkIGZvclxuICogYXV0aGVudGljYXRpb24uIFRoZSBsYXR0ZXIgbWV0aG9kIGFsbG93cyB0byB1c2UgdGhlIGBnZXRBcHBsaWNhdGlvbigpYFxuICogZnVuY3Rpb24gb25seS5cbiAqXG4gKiBFeGFtcGxlOlxuICogYGBgXG4gKiBjb25zdCBhY2NvdW50ID0gbmV3IEFjY291bnQoXCJhY2Nlc0tleU9yVG9rZW5cIiwgXCJodHRwczovL2N1c3RvbXNlcnZlcmFkcmVzcy5vcmdcIilcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgQWNjb3VudENsaWVudCB7XG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBhdXRoSGVhZGVyIDogc3RyaW5nXG5cbiAgLyoqIEBwcml2YXRlICovXG4gIHNlcnZlckFkZHJlc3M6IHN0cmluZ1xuXG4gIGNvbnN0cnVjdG9yIChhY2Nlc3NLZXlPclRva2VuIDogc3RyaW5nLCBzZXJ2ZXJBZGRyZXNzIDogc3RyaW5nID0gXCJodHRwczovL2FjY291bnQudGhldGhpbmdzbmV0d29yay5vcmdcIikgOiB2b2lkIHtcbiAgICB0aGlzLmF1dGhIZWFkZXIgPSBpc1Rva2VuKGFjY2Vzc0tleU9yVG9rZW4pXG4gICAgICA/IGBCZWFyZXIgJHthY2Nlc3NLZXlPclRva2VufWBcbiAgICAgIDogYEtleSAke2FjY2Vzc0tleU9yVG9rZW59YFxuXG4gICAgdGhpcy5zZXJ2ZXJBZGRyZXNzID0gc2VydmVyQWRkcmVzc1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGFzeW5jIG1ha2VSZXF1ZXN0ICh1cmwgOiBzdHJpbmcsIG1ldGhvZCA6IHN0cmluZyA9IFwiR0VUXCIsIGJvZHkgOiA/YW55KSA6IFByb21pc2U8YW55PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5zZXJ2ZXJBZGRyZXNzfS8ke3VybH1gLCB7XG4gICAgICBtZXRob2QsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5hdXRoSGVhZGVyLFxuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgfSlcblxuICAgIGlmIChyZXMuc3RhdHVzID49IDQwMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3Jlcy5zdGF0dXN9ICR7cmVzLnN0YXR1c1RleHR9YClcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzLmpzb24oKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgbWV0YWRhdGEgYWJvdXQgYWxsIGFwcGxpY2F0aW9ucyB0aGF0IGFyZSBhY2Nlc3NpYmxlIHdpdGhcbiAgICogdGhlIGdpdmVuIGFjY2Vzc1Rva2VuXG4gICAqL1xuICBnZXRBbGxBcHBsaWNhdGlvbnMgKCkgOiBQcm9taXNlPEFycmF5PEFjY291bnRBcHBsaWNhdGlvbj4+IHtcbiAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdChcImFwcGxpY2F0aW9uc1wiKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGluZm9ybWF0aW9uIHRoYXQgaXMgc3RvcmVkIGFib3V0IGEgZ2l2ZW4gYXBwbGljYXRpb24uXG4gICAqIFRoaXMgaW5jbHVkZXMgdGhlIEVVSXMsIG5hbWUgYWNjZXNzIGtleXMsIGNvbGxhYm9yYXRvcnMuXG4gICAqIFRoZSBwcm9wZXJ0aWVzIHRoYXQgY2FuIGJlIHJldHJpZXZlZCBkZXBlbmQgb24gdGhlIHJpZ2h0cyBvZlxuICAgKiB0aGUgdXNlZCBhdXRob3JpemF0aW9uIG1lY2hhbmlzbS5cbiAgICovXG4gIGdldEFwcGxpY2F0aW9uIChhcHBJRCA6IHN0cmluZykgOiBQcm9taXNlPEFjY291bnRBcHBsaWNhdGlvbj4ge1xuICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0KGBhcHBsaWNhdGlvbnMvJHthcHBJRH1gKVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgYXBwbGljYXRpb24gb24gdGhlIGFjY291bnQgc2VydmVyLlxuICAgKi9cbiAgY3JlYXRlQXBwbGljYXRpb24gKGFwcCA6IE1pbmltYWxBY2NBcHBsaWNhdGlvbikgOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0KFwiYXBwbGljYXRpb25zXCIsIFwiUE9TVFwiLCBhcHApXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbiBhcHBsaWNhdGlvbiBmcm9tIHRoZSBhY2NvdW50IHNlcnZlci5cbiAgICovXG4gIGRlbGV0ZUFwcGxpY2F0aW9uIChhcHBJRCA6IHN0cmluZykgOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0KGBhcHBsaWNhdGlvbnMvJHthcHBJRH1gLCBcIkRFTEVURVwiKVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBjb2xsYWJvcmF0b3Igd2l0aCBhIHNldCBvZiBhY2Nlc3MgcmlnaHRzIHRvIHRoZSBnaXZlbiBhcHBsaWNhdGlvbi5cbiAgICovXG4gIGFkZENvbGxhYm9yYXRvciAoYXBwSUQgOiBzdHJpbmcsIGNvbGxhYm9yYXRvciA6IHN0cmluZywgcmlnaHRzIDogQXJyYXk8QXBwQWNjZXNzUmlnaHRzPikgOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0KGBhcHBsaWNhdGlvbnMvJHthcHBJRH0vY29sbGFib3JhdG9ycy8ke2NvbGxhYm9yYXRvcn1gLCBcIlBVVFwiLCByaWdodHMpXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhIGNvbGxhYm9yYXRvciBieSBoZXIgdXNlcm5hbWUgZnJvbSBhbiBhcHBsaWNhdGlvblxuICAgKi9cbiAgZGVsZXRlQ29sbGFib3JhdG9yIChhcHBJRCA6IHN0cmluZywgY29sbGFib3JhdG9yIDogc3RyaW5nKSA6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIHRoaXMubWFrZVJlcXVlc3QoYGFwcGxpY2F0aW9ucy8ke2FwcElEfS9jb2xsYWJvcmF0b3JzLyR7Y29sbGFib3JhdG9yfWAsIFwiREVMRVRFXCIpXG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhbiBFVUkgdG8gdGhlIGdpdmVuIGFwcGxpY2F0aW9uLiBNdXN0IGJlIGhleGFkZWNpbWFsIHdpdGggYSBsZW5ndGggb2YgMTYuXG4gICAqL1xuICBhZGRFVUkgKGFwcElEIDogc3RyaW5nLCBldWkgOiBzdHJpbmcpIDogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdChgYXBwbGljYXRpb25zLyR7YXBwSUR9L2V1aXMvJHtldWl9YCwgXCJQVVRcIilcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFuIEVVSSBmcm9tIHRoZSBnaXZlbiBhcHBsaWNhdGlvbi5cbiAgICovXG4gIGRlbGV0ZUVVSSAoYXBwSUQgOiBzdHJpbmcsIGV1aSA6IHN0cmluZykgOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0KGBhcHBsaWNhdGlvbnMvJHthcHBJRH0vZXVpcy8ke2V1aX1gLCBcIkRFTEVURVwiKVxuICB9XG59XG5cbi8qKlxuICogQXBwQWNjZXNzUmlnaHRzXG4gKi9cbnR5cGUgQXBwQWNjZXNzUmlnaHRzID0gXCJzZXR0aW5nc1wiXG4gIHwgXCJkZWxldGVcIlxuICB8IFwiY29sbGFib3JhdG9yc1wiXG4gIHwgXCJkZXZpY2VzXCJcbiAgfCBcIm1lc3NhZ2VzOnVwOnJcIlxuICB8IFwibWVzc2FnZXM6dXA6d1wiXG4gIHwgXCJtZXNzYWdlczpkb3duOndcIlxuXG4vKipcbiAqIFRoZSBtaW5pbWFsIHBheWxvYWQgZm9yIHRvIHRoZSBQT1NUIC9hcHBsaWNhdGlvbnMgcm91dGVcbiAqIG9mIHRoZSBhY2NvdW50IHNlcnZlclxuICovXG50eXBlIE1pbmltYWxBY2NBcHBsaWNhdGlvbiA9IHtcbiAgaWQ6IHN0cmluZyxcbiAgbmFtZTogc3RyaW5nLFxufVxuXG4vKipcbiAqIEFjY291bnRBcHBsaWNhdGlvbiBjb250YWlucyB0aGUgbWV0YWRhdGEgb2YgYW4gYXBwbGljYXRpb25cbiAqIHJldHVybmVkIGJ5IHRoZSBhY2NvdW50IHNlcnZlci4gUHJlc2VuY2Ugb2Ygb3B0aW9uYWwgZmllbGRzXG4gKiBkZXBlbmRzIG9uIHRoZSBbYWNjZXNzIHJpZ2h0c10oI2FwcGFjY2Vzc3JpZ2h0cykgb2YgdGhlIHVzZWQgYWNjZXNzS2V5IC8gLXRva2VuLlxuICovXG50eXBlIEFjY291bnRBcHBsaWNhdGlvbiA9IE1pbmltYWxBY2NBcHBsaWNhdGlvbiAmIHtcbiAgZXVpczogQXJyYXk8c3RyaW5nPixcbiAgY3JlYXRlZDogc3RyaW5nLFxuICByaWdodHM6IEFycmF5PHN0cmluZz4sXG4gIGNvbGxhYm9yYXRvcnM/OiBBcnJheTx7XG4gICAgdXNlcm5hbWU6IHN0cmluZyxcbiAgICBlbWFpbDogc3RyaW5nLFxuICAgIHJpZ2h0czogQXJyYXk8c3RyaW5nPixcbiAgfT4sXG4gIGFjY2Vzc19rZXlzPzogQXJyYXk8e1xuICAgIG5hbWU6IHN0cmluZyxcbiAgICBrZXk6IHN0cmluZyxcbiAgICByaWdodHM6IEFycmF5PHN0cmluZz4sXG4gIH0+LFxuICBkZWxldGVkPzogc3RyaW5nXG59XG4iXX0=